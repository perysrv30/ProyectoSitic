<mat-progress-bar *ngIf="loading" mode="indeterminate"></mat-progress-bar>
<div class="p-4 overflow-x-auto">
    <div class="bg-neutral-300 p-4 left-0 flex items-center gap-2 sticky top-0">
        <span class="title hidden md:inline text-lg font-bold">Mis Compras</span>
        
        <div class="bg-foreground rounded-lg px-4 mx-4 max-w-[200px] border border-neutral-800 flex flex-row items-center">
            <mat-icon svgIcon="mat:search" class="icon-base"></mat-icon>
            <input class="px-4 py-3 border-0 outline-none w-full bg-transparent" placeholder="Buscar compras..." type="search"
            (input)="applySearch($event)">
        </div>

        <div class="flex-grow"></div>

        <button mat-stroked-button color="primary" (click)="getAllOrdesUpdt()" [disabled]="loading">
            <mat-icon color="primary" svgIcon="mat:refresh" class="icon-base"></mat-icon>
            Actualizar
        </button>
    </div>
    <div *ngFor="let order of displayedColumns" class="bg-white rounded-lg shadow-sm border mb-4 p-4">
      
      <div class="flex justify-between items-center mb-4">
        <span class="text-sm text-gray-600">Fecha: {{ order.date | date: 'mediumDate' }}</span>
        <span class="text-lg font-semibold text-green-500">Total: ${{ order.total | number: '1.2-2' }}</span>
      </div>
    
      <div *ngFor="let product of order.products" class="flex items-center gap-4 border-b py-3">
        <img [src]="product.imgPath" alt="{{ product.name }}" class="h-16 w-16 rounded-lg object-cover">
        <div class="flex-1">
          <h3 class="text-base font-medium text-gray-800">{{ product.name }}</h3>
          <p class="text-sm text-yellow-500">Cantidad: {{ product.quantity }}</p>
        </div>
        <span class="text-base font-medium text-cyan-500">${{ product.price | number: '1.2-2' }}</span>
      </div>

    </div>
    
</div>
